webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},IcnI:function(t,e,n){"use strict";(function(t){var r=n("/5sW"),u=n("NYxO"),c=n("u3Ct"),a=n("Xct0");r["a"].use(u["a"]);var o=!1;console.log(t),e["a"]=new u["a"].Store({modules:{cart:c["a"],products:a["a"]},strict:o})}).call(e,n("KNAl"))},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/5sW"),u={name:"HelloWorld",props:{msg:String}},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._m(0),n("h3",[t._v("Installed CLI Plugins")]),t._m(1),n("h3",[t._v("Essential Links")]),t._m(2),n("h3",[t._v("Ecosystem")]),t._m(3)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n    For guide and recipes on how to configure / customize this project,"),n("br"),t._v("\n    check out the\n    "),n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/docs",target:"_blank"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank"}},[t._v("babel")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org/en/essentials/getting-started.html",target:"_blank"}},[t._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org/en/intro.html",target:"_blank"}},[t._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank"}},[t._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org/en",target:"_blank"}},[t._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}],o=n("XyMi");function i(t){n("i/80")}var s=!1,l=i,d="data-v-6ad8cae6",v=null,h=Object(o["a"])(u,c,a,s,l,d,v),f=h.exports,p={name:"app",components:{HelloWorld:f}},_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},m=[];function g(t){n("+VGo")}var b=!1,k=g,C=null,P=null,y=Object(o["a"])(p,_,m,b,k,C,P),S=y.exports,j=n("/ocq"),w=n("IcnI"),x=(n("VjuZ"),/(\d{3})(?=\d)/g);function T(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var r=Math.abs(t).toFixed(n),u=n?r.slice(0,-1-n):r,c=u.length%3,a=c>0?u.slice(0,c)+(u.length>3?",":""):"",o=n?r.slice(-1-n):"",i=t<0?"-":"";return i+e+a+u.slice(c).replace(x,"$1,")+o}var $=n("NYxO"),I={computed:Object($["c"])({products:"allProducts"}),methods:Object($["b"])(["addProductToCart"]),created:function(){this.$store.dispatch("getAllProducts")}},O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.products,function(e){return n("li",{key:e.id},[t._v("\n    "+t._s(e.title)+" - "+t._s(e.price)+"\n    "),n("br"),n("button",{attrs:{disabled:!e.inventory},on:{click:function(n){t.addProductToCart(e)}}},[t._v("\n      加入购物车\n    ")])])}))},E=[],q=!1,N=null,W=null,M=null,F=Object(o["a"])(I,O,E,q,N,W,M),H=F.exports,X=n("Biqn"),A=n.n(X),L={computed:A()({},Object($["c"])({products:"cartProducts",checkoutStatus:"checkoutStatus",total:"cartTotalPrice"})),methods:{checkout:function(t){this.$store.dispatch("checkout",t)}}},Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("h2",[t._v("Your Cart")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.products.length,expression:"!products.length"}]},[n("i",[t._v("Please add some products to cart.")])]),n("ul",t._l(t.products,function(e){return n("li",{key:e.id},[t._v("\n      "+t._s(e.title)+" - "+t._s(t._f("currency")(e.price))+" x "+t._s(e.quantity)+"\n    ")])})),n("p",[t._v("Total: "+t._s(t._f("currency")(t.total)))]),n("p",[n("button",{attrs:{disabled:!t.products.length},on:{click:function(e){t.checkout(t.products)}}},[t._v("Checkout")])]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.checkoutStatus,expression:"checkoutStatus"}]},[t._v("Checkout "+t._s(t.checkoutStatus)+".")])])},V=[],Y=!1,z=null,D=null,G=null,J=Object(o["a"])(L,Q,V,Y,z,D,G),B=J.exports,K={name:"Shopping",components:{ProductList:H,ShoppingCart:B}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("shopping cart")]),n("ProductList"),n("hr"),n("ShoppingCart")],1)},R=[],U=!1,tt=null,et=null,nt=null,rt=Object(o["a"])(K,Z,R,U,tt,et,nt),ut=rt.exports,ct=[{path:"/shop",component:ut}],at=new j["a"]({routes:ct}),ot=at;r["a"].use(j["a"]),r["a"].filter("currency",T),r["a"].config.productionTip=!1,new r["a"]({router:ot,store:w["a"],render:function(t){return t(S)}}).$mount("#app")},S49b:function(t,e,n){"use strict";var r=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5}];e["a"]={getProducts:function(t){setTimeout(function(){return t(r)},100)},buyProducts:function(t,e,n){setTimeout(function(){Math.random()>.5||navigator.userAgent.indexOf("PhantomJS")>-1?e():n()},100)}}},Xct0:function(t,e,n){"use strict";var r=n("WpTh"),u=(n.n(r),n("S49b")),c={all:[]},a={allProducts:function(t){return t.all}},o={getAllProducts:function(t){var e=t.commit;u["a"].getProducts(function(t){e("setProducts",t)})}},i={setProducts:function(t,e){t.all=e},decrementProductInventory:function(t,e){var n=e.id,r=t.all.find(function(t){return t.id===n});r.inventory--}};e["a"]={state:c,getters:a,actions:o,mutations:i}},"i/80":function(t,e){},u3Ct:function(t,e,n){"use strict";var r=n("rzQm"),u=n.n(r),c=n("WpTh"),a=(n.n(c),n("S49b")),o={added:[],checkoutStatus:null},i={checkoutStatus:function(t){return t.checkoutStatus},cartProducts:function(t,e,n){return t.added.map(function(t){var e=t.id,r=t.quantity,u=n.products.all.find(function(t){return t.id===e});return{title:u.title,price:u.price,quantity:r}})},cartTotalPrice:function(t,e){return e.cartProducts.reduce(function(t,e){return t+e.price*e.quantity},0)}},s={checkout:function(t,e){var n=t.commit,r=t.state,c=u()(r.added);n("setCheckoutStatus",null),n("setCartItems",{items:[]}),a["a"].buyProducts(e,function(){return n("setCheckoutStatus","successful")},function(){n("setCheckoutStatus","failed"),n("setCartItems",{items:c})})},addProductToCart:function(t,e){var n=t.state,r=t.commit;if(r("setCheckoutStatus",null),e.inventory>0){var u=n.added.find(function(t){return t.id===e.id});u?r("incrementItemQuantity",u):r("pushProductToCart",{id:e.id}),r("decrementProductInventory",{id:e.id})}}},l={pushProductToCart:function(t,e){var n=e.id;t.added.push({id:n,quantity:1})},incrementItemQuantity:function(t,e){var n=e.id,r=t.added.find(function(t){return t.id===n});r.quantity++},setCartItems:function(t,e){var n=e.items;t.added=n},setCheckoutStatus:function(t,e){t.checkoutStatus=e}};e["a"]={state:o,getters:i,actions:s,mutations:l}}},[0]);
//# sourceMappingURL=app.ee6056d8.js.map